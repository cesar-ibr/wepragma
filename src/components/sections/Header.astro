<header
  id="navheader"
  class="fixed top-0 z-50 w-full backdrop-blur text-sky-100 px-20 py-5 transition-colors duration-300"
>
  <div class="container mx-auto flex items-center justify-end">
    <div class="flex items-center mr-auto">
      <img src="/logo.svg" alt="Wepragma Logo" class="h-auto w-[173px]" />
    </div>

    <nav
      id="menu"
      data-open="false"
      class="flex items-center justify-end space-x-6"
    >
      <div
        class="flex space-x-2 border bg-midnight-500 border-white/10 rounded-[28px] p-2"
      >
        <button
          class="px-4 py-1 border border-orange-500 text-orange-500 rounded-[30px]"
          >ES</button
        >
        <button
          class="px-4 py-1 border border-white/10 text-gray-400 hover:text-sky-100 rounded-[30px]"
          >EN</button
        >
      </div>

      <!-- Menu options -->
      <div
        id="menu-options"
        class="hidden transition-all duration-300 ease-in-out md:flex items-center rounded-[36px] border border-white/10 px-6 py-3 space-x-8"
      >
        <a href="#" class="text-orange-500">Inicio</a>
        <a href="#" class="flex items-center hover:text-orange-500">Servicios</a
        >
        <a href="#" class="hover:text-orange-500">Paquetes</a>
        <a href="#" class="hover:text-orange-500">Nosotros</a>
        <a href="#" class="hover:text-orange-500">Curiosidades</a>
      </div>

      <!-- Toggle Button -->
      <button
        id="toggle-menu"
        class="hover:bg-orange-500 text-white px-4 py-4 rounded-full bg-orange-600"
      >
        <img
          src="assets/icons/close.svg"
          class="close-icon"
          width="12"
          alt="close icon"
        />
        <img
          src="assets/icons/menu.svg"
          class="menu-icon my-[1px]"
          width="12"
          alt="close icon"
        />
      </button>
    </nav>
  </div>
</header>

<script>
  const threshold = 200;
  const navHeader = document.getElementById("navheader");
  const menu = document.getElementById("menu");
  const toggleMenu = document.getElementById("toggle-menu");

  window.addEventListener("scroll", () => {
    const scrollPosition = window.scrollY;
    if (scrollPosition > threshold) {
      navHeader.classList.add("bg-midnight-500/90");
    } else {
      navHeader.classList.remove("bg-midnight-500/90");
    }
  });

  toggleMenu.addEventListener("click", () => {
    const isOpen = menu.getAttribute("data-open") === "true";
    menu.setAttribute("data-open", String(!isOpen));
  });
</script>
<style>
  #menu[data-open="true"] #toggle-menu .menu-icon {
    display: none;
  }

  #menu[data-open="false"] #toggle-menu .close-icon {
    display: none;
  }

  #menu-options {
    transition: all 0.3s ease-in-out;
    flex-grow: 0;
    flex-shrink: 0;
    flex-basis: 0%;
    max-width: 0;
    padding: 0;
    overflow: hidden;
    border: none;
  }

  #menu[data-open="true"] #menu-options {
    flex-grow: 1;
    flex-shrink: 1;
    flex-basis: 60%;
    max-width: 500px;
    overflow: auto;
    border: solid 1px;
    @apply px-6 py-3 border border-white/10;
  }
</style>
